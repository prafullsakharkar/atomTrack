<!DOCTYPE html>
<html lang="en">
{% include "header.html" %}
<body>
{% include "top_bar.html" %}
<div class="ch-container">
  <div class="row">
    <noscript>
      <div class="alert alert-block col-md-12">
        <h4 class="alert-heading">Warning!</h4>

        <p>You need to have <a href="http://en.wikipedia.org/wiki/JavaScript" target="_blank">JavaScript</a>
          enabled to use this site.</p>
      </div>
    </noscript>
  </div>

  <div class="row">
    <!-- leftside menu start -->
    {% include "left_side_menu.html" %}
    <!-- leftside menu start -->

    <div class="col-at-12" id="panel_big">
      <ul class="breadcrumb">
        <li>
          <a href="#">Main</a>
        </li>
        <li>
          <a href="#">To Do List</a>
        </li>
      </ul>
      <div class="sidebar-nav">
        <div class="box-content row">
          <div class="box col-at-11">
            <div class="col-at-sm-3" style="display:block;">
              <div class="controls">
                <label class="control-label" for="selectArtistProject">Projects : &nbsp;</label>
                <select id="selectArtistProject" data-rel="chosen" style="width: 122px;">
                  {% for proj,id in data.projects.items %}
                  {% if proj == data.project %}
                  <option value="{{ proj }}" selected>{{ proj }}</option>
                  {% else %}
                  <option value="{{ proj }}">{{ proj }}</option>
                  {% endif %}
                  {% endfor %}
                </select>
              </div>
            </div>
            <div class="col-at-sm-3" style="display:block;">
              <div class="controls">
                <label class="control-label" for="selectStatus">Status : &nbsp;</label>
                <select id="selectStatus" data-rel="chosen" data-placeholder="Select one...">

                  <option value="">All</option>
                  {% for status in statuses %}
                  <option value="{{status.name}}">{{status.name}}</option>
                  {% endfor %}

                </select>
              </div>
            </div>

            <div class="col-at-2" style="float: right;">
              &nbsp; <input data-errorqtip="" aria-invalid="false" id="search"
                            data-qtip="Type to filter on task name or description"
                            placeholder="Type to search ..." class="x-form-field x-form-text x-form-empty-field"
                            autocomplete="off" type="text">
              <!--                            &nbsp; &nbsp;<label id="table_row_count"></label> -->
            </div>
            <div class="box-icon" style="float: right;">
              <button class="btn btn-inverse btn-default btn-sm" id="task_refresh">
                <i class="glyphicon glyphicon-refresh icon-white"></i></button>
              <button class="btn btn-inverse btn-default btn-sm" id="download_user_task">
                <!--                            <button class="btn btn-inverse btn-default btn-xs" id="download_user_task" onClick ="$('#tbl_task').tableExport({type:'excel',escape:'false',filename:'user_task_details'});">-->
                <i class="glyphicon glyphicon-save icon-white"></i></button>
            </div>
          </div>
          <div class="col-at-12">
            <div class="box" style="overflow:auto; overflow-y:auto; height:710px"
                 id="div_task_details">
              <table class="table table-hover table-bordered" id="tbl_task">
                <thead>
                <tr>
                  <th>Project</th>
                  <th>Task</th>
                  <th>Path</th>
                  <th>Status</th>
                  <th>Start Date</th>
                  <th>Stop Date</th>
                  <th>Daily Backup Status</th>
                  <th>Last Upload Date</th>
                  <th>Bid Hours</th>
                  <th>Time Spend</th>
                  <th>Time Left</th>
                  <th>Action</th>
                </tr>
                </thead>
                <tbody>
                </tbody>
              </table>

            </div>
          </div>
        </div>
      </div>
      <!-- Pause Model start --->
      <!--<div class="modal fade" id="myPauseModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"-->
           <!--data-backdrop="static" data-keyboard="false" aria-hidden="true">-->

        <!--<div class="modal-dialog modal-md">-->
          <!--<div class="modal-content">-->
            <!--<div class="modal-header">-->
              <!--<button type="button" class="close" data-dismiss="modal">×</button>-->
                <!--<div id="task_details_loader" style="text-align: center;"><h3>Why you want to pause the task ?</h3></div>-->

                <!--<div class="box">-->
                  <!--<textarea id="pause_reason" rows="5" cols="20" placeholder="Write a reason..."-->
                            <!--class="x-form-field x-form-text x-form-textarea" autocomplete="off"-->
                            <!--style="width: 88%; height: 53px; border-radius: 6px;">-->

                  <!--</textarea>-->
                  <!--<button class="btn btn-inverse btn-default btn-lg" id="btn_pause_reason" title="Add Reason"-->
                          <!--style="width: 60px;float: right;"><i class="glyphicon glyphicon-send icon-white"></i>-->
                  <!--</button>-->
                <!--</div>-->
            <!--</div>-->
          <!--</div>-->
        <!--</div>-->
        <!--&lt;!&ndash; model end &ndash;&gt;-->
      <!--</div>-->
      <!-- Pause Model End --->

      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
           data-backdrop="static" data-keyboard="false" aria-hidden="true">

        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">×</button>
              <div id="modal_header">
                <div id="task_details_loader" style="text-align: left;"><img
                  src="/static/img/loading.gif"></div>
              </div>
            </div>
            <div class="modal-body">
              <div class="container">
                <div class="row">
                  <div class="col-md-9">
                    <!-- Nav tabs -->
                    <div class="card">
                      <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active"><a href="#my_notes"
                                                                  aria-controls="my_notes"
                                                                  role="tab" data-toggle="tab">Task Notes</a>
                        </li>
                        <li role="presentation"><a href="#my_links" aria-controls="my_links"
                                                   role="tab" data-toggle="tab">Links</a></li>
                        <li role="presentation"><a href="#my_versions"
                                                   aria-controls="my_versions" role="tab"
                                                   data-toggle="tab">Versions</a></li>
                        <li role="presentation"><a href="#my_version_notes"
                                                   aria-controls="my_version_notes" role="tab"
                                                   data-toggle="tab">Version Notes</a></li>
                      </ul>

                      <!-- Tab panes -->
                      <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="my_notes">
                          <div class="box">
                            <div class="controls">
                              <span>Category : </span>
                              <select id="selectNoteCategory" data-rel="chosen"
                                      data-placeholder="Select one..."
                                      style="width:130px !important;"
                                      onchange="toggle_parent_note(this)">
                                <option value="">All</option>
                                <option value="None">None</option>
                                <option value="Internal">Internal</option>
                                <option value="Client feedback">Client feedback
                                </option>
                                <option value="Client">Client</option>
                              </select>
                            </div>
                          </div>
                          <div id="task_notes_loader" style="text-align: center;"><img
                            src="/static/img/loading.gif"></div>
                          <div class="box"
                               style="overflow:auto; overflow-y:auto; height:572px;"
                               id="note_details" data-user-id="{{ user_id }}">
                          </div>

                        </div>

                        <div role="tabpanel" class="tab-pane" id="my_links">
                          <div id="task_link_loader" style="text-align: center;"><img
                            src="/static/img/loading.gif"></div>
                          <div class="box"
                               style="overflow:auto; overflow-y:auto; height:624px;"
                               id="link_details"></div>
                        </div>

                        <div role="tabpanel" class="tab-pane" id="my_versions">
                          <div class="box">
                            <div class="controls">
                              <span>Asset Types : </span>
                              <select id="selectAssetTypes" data-rel="chosen"
                                      data-placeholder="Select one..."
                                      style="width:130px !important;"
                                      onchange="toggle_asset_type(this)">
                                <option value="">All</option>
                                {% for type in asset_types %}
                                <option value="{{ type }}">{{ type }}</option>
                                {% endfor %}
                              </select>
                              <!--
                                                      <button class="btn btn-inverse btn-default btn-sm" id="save_ver_changes">
                                                          <i class="glyphicon glyphicon-floppy-save icon-white"></i>&nbsp;&nbsp;Save</button>&nbsp;
                                                      <button class="btn btn-inverse btn-default btn-sm" id="undo_ver">
                                                          <i class="glyphicon glyphicon-hand-left icon-white"></i>&nbsp;&nbsp;Undo</button>
                              -->
                              <input data-errorqtip="" aria-invalid="false"
                                     id="search_version"
                                     data-qtip="Type to filter on task name or description"
                                     placeholder="Type to filter..."
                                     class="x-form-field x-form-text x-form-empty-field"
                                     autocomplete="off" type="text" style="float: right;">
                            </div>
                          </div>
                          <div id="version_loader" style="text-align: center;"><img
                            src="/static/img/loading.gif"></div>
                          <div class="box"
                               style="overflow:auto; overflow-y:auto; height:572px;"
                               id="version_details">
                            <table class="table table-striped" id="tbl_versions">
                              <thead>
                              <tr>
                                <th onclick="sortOrder(this)"><i
                                  class="glyphicon glyphicon-sort-by-alphabet"></i>&nbsp;
                                  Name
                                </th>
                                <th>Type</th>
                                <th>Status</th>
                                <th>Published On</th>
                                <th>Published by</th>
                              </tr>
                              </thead>
                              <tbody>
                              </tbody>
                            </table>
                          </div>
                        </div>

                        <div role="tabpanel" class="tab-pane" id="my_version_notes">
                          <div class="box">
                            <div class="controls">
                              <!--
                                                                  <select id="selectVersionTaskAssetTypes" data-rel="chosen"
                                                                          style="width: 140px;" onchange="show_versions(this)">
                                                                      <option value="">Select Asset Type</option>
                                                          {% for type in asset_types %}
                                                              <option value="{{type}}">{{type}}</option>
                                                          {% endfor %}
                                                                  </select>&nbsp;&nbsp;
                              -->
                              <span>Category :</span>&nbsp;&nbsp;
                              <select id="selectVersionNoteCategory" data-rel="chosen"
                                      data-placeholder="Select one..."
                                      style="width:130px !important;"
                                      onchange="toggle_parent_note(this)">
                                <option value="">All</option>
                                <option value="None">None</option>
                                <option value="Internal">Internal</option>
                                <option value="Client feedback">Client feedback</option>
                                <option value="Client">Client</option>
                              </select>

                            </div>
                          </div>
                          <div id="task_version_notes_loader"
                               style="text-align: center; display: none;"><img
                            src="/static/img/loading.gif"></div>
                          <div class="box"
                               style="overflow:auto; overflow-y:auto; height:572px;"
                               id="version_note_details" data-user-id="{{user_id}}"></div>
                        </div>


                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!--
                          <div class="modal-footer">
                              <a href="#" class="btn btn-default" data-dismiss="modal">Close</a>
                              <a href="#" class="btn btn-primary" data-dismiss="modal">Save changes</a>
                          </div>
          -->
        </div>
      </div>
    </div>
  </div>
</div>
</body>
{% include "footer.html" %}
</html>
